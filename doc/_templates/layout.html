{%- extends "!layout.html" %}

{# this part comes from https://github.com/readthedocs/sphinx_rtd_theme/blob/master/sphinx_rtd_theme/layout.HTML
   and we modify the part under if logo with a custom href. The rest is identical to the original 
#}
{% block sidebartitle %}

{# Not strictly valid HTML, but it's the only way to display/scale
   it properly, without weird scripting or heaps of work
#}
{%- set _logo_url = logo_url|default(pathto('_static/' + (logo or ""), 1)) %}
<a href={{ pathto('index') }}>
  <img src="{{ _logo_url }}" class="logo" alt="{{ _('Logo') }}"/>
</a>

{% if theme_display_version %}
{%- set nav_version = version %}
{% if READTHEDOCS and current_version %}
  {%- set nav_version = current_version %}
{% endif %}
{% if nav_version %}
  <div class="version">
    {{ nav_version }}
  </div>
{% endif %}
{% endif %}

{% include "searchbox.html" %}

{% endblock %}
